SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";
DROP TABLE IF EXISTS users;
CREATE TABLE users (id_user int(11) NOT NULL,name varchar(50) NOT NULL,lastname varchar(50) NOT NULL,email varchar(50) NOT NULL,password varchar(60) NOT NULL,role enum('USER','ADMIN') NOT NULL DEFAULT 'USER') ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
INSERT INTO users (id_user, name, lastname, email, password, role) VALUES (1, 'Federico', 'González', 'admin@gmail.com', '$2b$10$WC/xQ9/Uv/PX86RQhR5N8.fDsidF2Y.16Um31.4syiA6rQJFS0RGe', 'ADMIN'),(2, 'Daniel', 'Gaía', 'user@gmail.com', '$2b$10$/SQVMaPY14X.3NX6kOi3Bub8b11VSs/JxOgE0HrEKs4ydtg5oiqte', 'USER'),(4, 'Gustavo', 'Ochoa', 'user2@gmail.com', '$2b$10$8zrIAqK3wDQ4Ig/yH25bIuAhS76LQCrkipth6RK5.RbDIoOkZri2S', 'USER');
DROP TABLE IF EXISTS contacts;
CREATE TABLE contacts (id_contact int(11) NOT NULL,name varchar(50) NOT NULL,lastname varchar(50) NOT NULL,email varchar(50) NOT NULL,address varchar(60) NOT NULL,phone varchar(50) DEFAULT NULL,linkedin varchar(50) DEFAULT NULL,facebook varchar(50) DEFAULT NULL,twitter varchar(50) DEFAULT NULL,instagram varchar(50) DEFAULT NULL,position varchar(50) NOT NULL,interest int(3) NOT NULL,id_company int(11) NOT NULL,id_city int(11) NOT NULL,preference_phone int(11) DEFAULT NULL,preference_linkedin int(11) DEFAULT NULL,preference_facebook int(11) DEFAULT NULL,preference_twitter int(11) DEFAULT NULL,preference_instagram int(11) DEFAULT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
INSERT INTO contacts (id_contact, name, lastname, email, address, phone, linkedin, facebook, twitter, instagram, position, interest, id_company, id_city, preference_phone, preference_linkedin, preference_facebook, preference_twitter, preference_instagram) VALUES (1, 'Mario', 'Motta', 'estefanomotta@gmail.com', 'Avenida sin Número 1', '+5493516114151', 'estefanomotta', 'estefanomotta', '', '', 'Gerente', 100, 5, 1, 2, 2, 2, 1, 1),(2, 'Matías', 'González Luna', 'matiasgonzalezluna@gmail.com', 'Avenida sin Número 2', '+5493516114152', '', 'matiasgonzalezluna', 'matiasgonzalezluna', '', 'Guardia', 10, 2, 2, 2, 1, 2, 2, 1),(3, 'Gonzalo', 'Alonso', 'gonzaloalonso@gmail.com', 'Avenida sin Número 3', '+5493516114153', '', '', 'gonzaloalonso', 'gonzaloalonso', 'Operario', 90, 3, 3, 2, 1, 1, 2, 2),(4, 'Fabián', 'Pedernera', 'fabianpedernera@gmail.com', 'Avenida sin Número 4', '+5493516114154', 'fabianpedernera', '', '', 'fabianpedernera', 'Desarrollador', 20, 4, 4, 2, 2, 1, 1, 2),(5, 'Emiliano', 'Rivero', 'emilianorivero@gmail.com', 'Avenida sin Número 5', '+5493516114155', 'emilianorivero', 'emilianorivero', '', '', 'Contador', 80, 5, 5, 2, 2, 2, 1, 1),(6, 'Roberto', 'Quintana', 'robertoquintana@gmail.com', 'Avenida sin Número 6', '+5493516114156', '', 'robertoquintana', 'robertoquintana', '', 'Arquitecto', 30, 7, 6, 2, 1, 2, 2, 1),(7, 'Mariana', 'González', 'marianagonzalez@gmail.com', 'Avenida sin Número 7', '+5493516114157', '', '', 'marianagonzalez', 'marianagonzalez', 'Secretaria', 70, 8, 8, 2, 1, 1, 2, 2),(8, 'Benjamín', 'Cavallero', 'cavallerobenjamin@gmail.com', 'Avenida sin Número 8', '+5493516114158', 'benjamincavallero', '', '', 'benjamincavallero', 'Desarrollador', 40, 9, 9, 2, 2, 1, 1, 2),(9, 'Pablo', 'Cavallero', 'pablocavallero@gmail.com', 'Avenida sin Número 9', '+5493516114159', 'pablocavallero', 'pablocavallero', '', '', 'Contador', 60, 7, 7, 2, 2, 2, 1, 1),(10, 'Marco', 'Moresi', 'marcomoresi@gmail.com', 'Avenida sin Número 10', '+5493516114160', '', 'marcomoresi', 'marcomoresi', '', 'Operario', 50, 5, 6, 2, 1, 2, 2, 1),(11, 'Estefano', 'González', 'estefanogonzalez@hotmail.coma', 'Avenida sin Número 11', '+5493516114161', '', '', 'estefanogonzalez', 'estefanogonzalez', 'Desarrollador', 100, 7, 7, 2, 1, 1, 2, 2);
DROP TABLE IF EXISTS companies;
CREATE TABLE companies (id_company int(11) NOT NULL, name varchar(50) NOT NULL, email varchar(50) NOT NULL, phone varchar(50) NOT NULL, address varchar(50) NOT NULL, id_city int(11) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
INSERT INTO companies (id_company, name, email, phone, address, id_city) VALUES (1, 'Companía Constructora D.F.', 'constructoradf@gmail.com', '+5493517564941', 'Calle sin Número 1', 1),(2, 'Constructora Monterrey', 'constructoramonterrey@gmail.com', '+5493517564942', 'Calle sin Número 2', 2),(3, 'Constructora Panamá', 'constructorapanama@gmail.com', '+5493517564943', 'Calle sin Número 3', 3),(4, 'Constructora Colón', 'constructoracolon@gmail.com', '+5493517564944', 'Calle sin Número 4', 4),(5, 'Constructora Montevideo', 'constructoramontevideo@gmail.com', '+5493517564945', 'Calle sin Número 5', 5),(7, 'Constructora San José', 'constructorasanjose@gmail.com', '+5493517564946', 'Calle sin Número 6', 6),(8, 'Constructora Buenos Aires', 'constructorabuenosaires@gmail.com', '+5493517564947', 'Calle sin Número 7', 7),(9, 'Constructora Rosario', 'constructorarosario@gmail.com', '+5493517564948', 'Calle sin Número 8', 8),(11, 'Constructora Córdoba', 'constructoracordoba@gmail.com', '+5493517564949', 'Calle sin número 9', 9);
DROP TABLE IF EXISTS cities;
CREATE TABLE cities (id_city int(11) NOT NULL, name varchar(50) NOT NULL,id_country int(11) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
INSERT INTO cities (id_city, name, id_country) VALUES (1, 'México D.F.', 1),(2, 'Monterrey', 1),(3, 'Panamá', 2),(4, 'Colón', 2),(5, 'Montevideo', 3),(6, 'San José de Mayo', 3),(7, 'Buenos Aires', 4),(8, 'Rosario', 4),(9, 'Córdoba', 4);
DROP TABLE IF EXISTS countries;
CREATE TABLE countries (id_country int(11) NOT NULL,name varchar(50) NOT NULL,id_region int(11) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
INSERT INTO countries (id_country, name, id_region) VALUES (1, 'México', 1), (2, 'Panamá', 2), (3, 'Uruguay', 3), (4, 'Argentina', 3);
DROP TABLE IF EXISTS preferences;
CREATE TABLE preferences (id_preference int(11) NOT NULL,name varchar(50) NOT NULL DEFAULT 'sin preferencia') ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
INSERT INTO preferences (id_preference, name) VALUES (1, 'sin preferencia'), (2, 'canal favorito'), (3, 'no molestar');
DROP TABLE IF EXISTS regions;
CREATE TABLE regions (id_region int(11) NOT NULL,name varchar(50) NOT NULL) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
INSERT INTO regions (id_region, name) VALUES(1, 'Norteamérica'),(2, 'Centroamérica'),(3, 'Sudamérica');
ALTER TABLE cities ADD PRIMARY KEY (id_city), ADD KEY cities_ibfk_1 (id_country);
ALTER TABLE companies ADD PRIMARY KEY (id_company), ADD KEY id_city (id_city);
ALTER TABLE contacts ADD PRIMARY KEY (id_contact), ADD KEY preference_phone (preference_phone), ADD KEY preference_linkedin (preference_linkedin), ADD KEY preference_facebook (preference_facebook), ADD KEY preference_twitter (preference_twitter), ADD KEY preference_instagram (preference_instagram), ADD KEY id_city (id_city), ADD KEY id_company (id_company);
ALTER TABLE countries ADD PRIMARY KEY (id_country), ADD KEY id_region (id_region);
ALTER TABLE preferences ADD PRIMARY KEY (id_preference);
ALTER TABLE regions ADD PRIMARY KEY (id_region);
ALTER TABLE users ADD PRIMARY KEY (id_user);
ALTER TABLE cities MODIFY id_city int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;
ALTER TABLE companies MODIFY id_company int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=12;
ALTER TABLE contacts MODIFY id_contact int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=12;
ALTER TABLE countries MODIFY id_country int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;
ALTER TABLE preferences MODIFY id_preference int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;
ALTER TABLE regions MODIFY id_region int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=6;
ALTER TABLE users MODIFY id_user int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;
ALTER TABLE cities ADD CONSTRAINT cities_ibfk_1 FOREIGN KEY (id_country) REFERENCES countries (id_country) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE companies ADD CONSTRAINT companies_ibfk_1 FOREIGN KEY (id_city) REFERENCES cities (id_city) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE contacts ADD CONSTRAINT contacts_ibfk_1 FOREIGN KEY (preference_phone) REFERENCES preferences (id_preference) ON DELETE CASCADE ON UPDATE CASCADE, ADD CONSTRAINT contacts_ibfk_2 FOREIGN KEY (preference_linkedin) REFERENCES preferences (id_preference) ON DELETE CASCADE ON UPDATE CASCADE, ADD CONSTRAINT contacts_ibfk_3 FOREIGN KEY (preference_facebook) REFERENCES preferences (id_preference) ON DELETE CASCADE ON UPDATE CASCADE, ADD CONSTRAINT contacts_ibfk_4 FOREIGN KEY (preference_twitter) REFERENCES preferences (id_preference) ON DELETE CASCADE ON UPDATE CASCADE, ADD CONSTRAINT contacts_ibfk_5 FOREIGN KEY (preference_instagram) REFERENCES preferences (id_preference) ON DELETE CASCADE ON UPDATE CASCADE, ADD CONSTRAINT contacts_ibfk_6 FOREIGN KEY (id_city) REFERENCES cities (id_city) ON DELETE CASCADE ON UPDATE CASCADE, ADD CONSTRAINT contacts_ibfk_7 FOREIGN KEY (id_company) REFERENCES companies (id_company) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE countries ADD CONSTRAINT countries_ibfk_1 FOREIGN KEY (id_region) REFERENCES regions (id_region) ON DELETE CASCADE ON UPDATE CASCADE;
COMMIT;